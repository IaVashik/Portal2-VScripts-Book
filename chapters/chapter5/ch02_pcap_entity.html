<h2 class="text-3xl font-bold mb-4">Chapter 5.2: Smarter Entities: pcapEntity</h2>
<p><strong>The Problem:</strong> In standard VScript, interacting with entities is verbose. Changing a simple property requires the long <code>EntFireByHandle</code> function. It works, but it's clumsy and hard to read.</p>
<pre><code class="language-squirrel">// Standard VScript: How to make a cube red.
local cube = Entities.FindByName(null, "my_cube")
EntFireByHandle(cube, "Color", "255 0 0", 0, null, null)
</code></pre>
<p><strong>The Solution:</strong> PCapture-Lib automatically "upgrades" every entity handle in the game to a <code>pcapEntity</code>. This new object has dozens of easy-to-use methods that act as direct shortcuts.</p>
<pre><code class="language-squirrel">// With PCapture-Lib:
local cube = entLib.FindByName("my_cube") // Use entLib for consistency
cube.SetColor("255 0 0")
</code></pre>

<h3 class="text-2xl font-bold mt-8 mb-4">Before and After: A Comparison</h3>
<p>The difference becomes dramatic when you perform multiple actions.</p>
<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
        <h4 class="font-bold text-lg">Before: Standard VScript</h4>
        <pre><code class="language-squirrel">local prop = Entities.FindByName(null, "my_prop")
local parent = Entities.FindByName(null, "prop_parent")

EntFireByHandle(prop, "SetParent", parent.GetName(), 0, null, null)
local ang = parent.GetAngles()
prop.SetAngles(ang.x, ang.y, ang.z)
EntFireByHandle(prop, "addoutput", "OnHealthChanged,my_script,MyFunction", 0, null, null) // todo
</code></pre>
    </div>
    <div>
        <h4 class="font-bold text-lg">After: With pcapEntity</h4>
        <pre><code class="language-squirrel">local prop = entLib.FindByName("my_prop")
local parent = entLib.FindByName("prop_parent")

prop.SetParent(parent)
prop.SetAbsAngles(parent.GetAngles())
prop.ConnectOutput("OnHealthChanged", MyFunction)
</code></pre>
    </div>
</div>
<p>The `pcapEntity` code is not only shorter but also significantly more readable and less error-prone. The library provides hundreds of these shortcuts, from `Dissolve()` and `SetSkin()` to `GetVelocity()`.</p>
<p class="mt-4 p-4 bg-blue-100 dark:bg-blue-900 border-l-4 border-blue-500 rounded-r-lg">
    <strong>Best Practice:</strong> Always use <code>GetPlayerEx()</code> instead of <code>GetPlayer()</code>. It returns a `pcapEntity` of the player directly, giving you immediate access to all these powerful methods.
</p>